<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.iclass.mvc.dao.ChatMapper">
	<select id="selectAll" resultType="ChatRoom">
		SELECT * FROM chatroom
	</select>

	<select id="selectOne" parameterType="String" resultType="ChatRoom">
		SELECT * FROM chatroom
		WHERE roomName=#{roomName}
	</select>
	
	<insert id="createChatRoom" parameterType="String">
		INSERT 
		INTO chatroom(roomId,roomName)
		VALUES (#{roomId},#{roomName})
	</insert>
	
	<update id="plusUserCnt" parameterType="String">
		UPDATE chatroom 
		SET userCount = userCount + 1
		WHERE roomId=#{roomId}
	</update>
	
	<update id="plusUserCnt" parameterType="String">
		UPDATE chatroom 
		SET userCount = userCount - 1
		WHERE roomId=#{roomId}
	</update>
</mapper>