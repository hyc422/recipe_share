<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="org.iclass.mvc.dao.BoardMapper">
  
	<select id="AllSearch" parameterType="java.util.Map" resultType="Board">
		SELECT * FROM 
(SELECT rownum r ,f.* FROM
(SELECT * FROM BOARD b WHERE category LIKE  '%' || #{category} || '%' or mainCag LIKE '%' || #{mainCag} || '%' or content LIKE '%' || #{content} || '%' ORDER BY idx DESC) f)
WHERE r BETWEEN #{start} AND #{end}
	</select>
  
	<select id="McagSearch" parameterType="java.util.Map" resultType="Board">
SELECT * FROM 
(SELECT rownum r ,f.* FROM
(SELECT * FROM BOARD b WHERE mainCag LIKE '%' || #{mainCag} || '%' ORDER BY idx DESC) f)
WHERE r BETWEEN #{start} AND #{end}
	</select>
	
	<select id="ContSearch" parameterType="java.util.Map" resultType="Board">
		SELECT * FROM 
(SELECT rownum r ,f.* FROM
(SELECT * FROM BOARD b WHERE content LIKE '%' || #{content} || '%' ORDER BY idx DESC) f)
WHERE r BETWEEN #{start} AND #{end}
	</select>
	
	<select id="CagSearch" parameterType="java.util.Map" resultType="Board">
		SELECT * FROM 
(SELECT rownum r ,f.* FROM
(SELECT * FROM BOARD b WHERE category LIKE  '%' || #{category} || '%' ORDER BY idx DESC) f)
WHERE r BETWEEN #{start} AND #{end}
	</select>  
  </mapper>